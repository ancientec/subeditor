<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>SubEditor: free opensource wysiwyg html editor</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/default.min.css"/>
    <meta name="description" content="An alternative wysiwyg html editor designed to bridge the gap between modern and old javascript" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script type="text/javascript" src="js/docs.js"></script>
<script>

</script>
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <a class="navbar-item" href="https://subeditor.org">
            <strong>SubEditor</strong> <small><sub>v0.6.0</sub></small>
          </a>
          </div>
          <div class="navbar-menu">
            <div class="navbar-end">
              <a class="navbar-item github" href="https://github.com/ancientec/subeditor">
                
<svg height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="20"><path fill="rgb(149, 157, 165)" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
              </a>
              <a class="navbar-item" href="install.html">
                documents
              </a>
              <div class="navbar-item has-dropdown is-hoverable translation ">
                <a class="navbar-link">
                  Translations
                </a>
        
                <div class="navbar-dropdown "></div>
              </div>
    </nav>
<main>
<aside><ul class="menu-list"><li><a href="install.html">Installation</a></li><li><a href="usage.html">Usage</a></li><li><a href="options.html">Options</a></li><li><a href="demo.html">Demo</a></li><li><a href="methods.html">Variables & Methods</a></li><li><a href="plugins.html">Plugins</a><ul><li><a href="upload.html">Upload</a></li><li><a href="library.html">Library</a></li></ul><li><a href="events.html">Events</a></li><li><a href="toolbar.html">Toolbar</a><ul><li><a href="toolbaritem.html">ToolbarItem</a></li></ul><li><a href="css.html">CSS</a></li><li><a href="language.html">Language</a></li></ul></aside>
<div class="maincontent"><h2>Library</h2>
<p>Libaray plugin uses callback to accept data provided by user, allows user to implement this feature with any data sources and minmum effort.</p>
<h2>Config Variables</h2>
<pre><code class="language-js">
<span class="hljs-comment">//optional:</span>
<span class="hljs-keyword">var</span> <span class="hljs-title function_">elFunc</span> = (<span class="hljs-params">d</span>) =&gt; {
    <span class="hljs-keyword">const</span> _node = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;img&quot;</span>);
    _node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-action&quot;</span>, <span class="hljs-string">&quot;upload&quot;</span>);
    _node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;src&quot;</span>, o.<span class="hljs-property">download_url</span>);
    _node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;style&quot;</span>,<span class="hljs-string">&quot;max-width:100%&quot;</span>);
    <span class="hljs-keyword">return</span> _node;
};

<span class="hljs-comment">//optional:</span>
<span class="hljs-keyword">var</span> tileFunc : <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> _btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;button&quot;</span>);
    _btn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-id&quot;</span>,d.<span class="hljs-property">id</span>);
    _btn.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&lt;figure&gt;&lt;figure&gt;&lt;img src=&quot;&#x27;</span>+(d.<span class="hljs-property">download_url</span>)+<span class="hljs-string">&#x27;&quot; alt=&quot;&#x27;</span>+d.<span class="hljs-property">author</span>+<span class="hljs-string">&#x27;&quot;&gt;&lt;/figure&gt;&lt;/figure&gt;&lt;span class=&quot;caption&quot;&gt;&#x27;</span>+d.<span class="hljs-property">author</span>+<span class="hljs-string">&#x27;&lt;/span&gt;&#x27;</span>;
    <span class="hljs-keyword">return</span> _btn;
}

<span class="hljs-keyword">var</span> cfg = {};
cfg[<span class="hljs-string">&quot;image.library.per.page&quot;</span>] = <span class="hljs-number">10</span>;
cfg[<span class="hljs-string">&quot;image.library.allow.paging&quot;</span>] = <span class="hljs-literal">true</span>;
cfg[<span class="hljs-string">&quot;image.library.allow.search&quot;</span>] = <span class="hljs-literal">true</span>;
cfg[<span class="hljs-string">&quot;image.library.fetch&quot;</span>] = <span class="hljs-function">(<span class="hljs-params">page, perpage, keyword, callback</span>) =&gt;</span> {
    <span class="hljs-keyword">var</span> library_results = {};
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;library.php?page=&quot;</span>+page+<span class="hljs-string">&quot;&amp;perpage=&quot;</span>+perpage+<span class="hljs-string">&quot;&amp;keyword=&quot;</span>+<span class="hljs-built_in">encodeURIComponent</span>(keyword), {<span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span>,<span class="hljs-attr">headers</span>: {<span class="hljs-string">&#x27;Accept&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>}}).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
        }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">output</span>) =&gt;</span> {
        library_results = output;
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> { 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);
        }).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(library_results).<span class="hljs-property">length</span>) {
            <span class="hljs-comment">//reformat it:</span>
            <span class="hljs-keyword">var</span> data = [];
            library_results.<span class="hljs-property">Data</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> {
                data.<span class="hljs-title function_">push</span>({name : d.<span class="hljs-property">author</span>, thumb : d.<span class="hljs-property">download_url</span>, url : d.<span class="hljs-property">download_url</span>, type : <span class="hljs-string">&quot;image/jpeg&quot;</span>, elFunc : <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">elFunc</span>(d), tileFunc : <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">tileFunc</span>(d)});
            });
            <span class="hljs-title function_">callback</span>(library_results.<span class="hljs-property">Pages</span>.<span class="hljs-property">Total</span>, data);
        }
    });
};


<span class="hljs-keyword">new</span> <span class="hljs-title class_">SubEditor</span>(elem, {cfgList : cfg});

</code></pre>
<h3>image.library.per.page</h3>
<p>Number of results per page.</p>
<h3>image.library.allow.paging</h3>
<p>Allow paging.</p>
<h3>image.library.allow.search</h3>
<p>Allow to search using keyword.</p>
<h3>image.library.fetch(page : Number, perpage : Number, keyword : string, callback : Function)</h3>
<p>This is where all the magic happens. User defines how to get data in any format and from any data source. Data is then processed and converted to SubEditor via callback.</p>
<h3>Callback(total: Number, data : Object)</h3>
<p>total is the total number of results to be used to calcuate the paging. Data is an object for SubEditor to process and render.</p>
<pre><code class="language-js"><span class="hljs-comment">//data, minimum requirement:</span>
{
    name : <span class="hljs-string">&quot;file name&quot;</span>,
    type : <span class="hljs-string">&quot;image/png&quot;</span>,
    url : <span class="hljs-string">&quot;https://.....&quot;</span>
}

<span class="hljs-comment">//optional</span>
{
    name : <span class="hljs-string">&quot;file name&quot;</span>,
    type : <span class="hljs-string">&quot;image/png&quot;</span>,
    url : <span class="hljs-string">&quot;https://.....&quot;</span>,
    <span class="hljs-attr">thumb</span>: <span class="hljs-string">&quot;https://...&quot;</span>,
    elFunc : <span class="hljs-title class_">Function</span>,
    tileFunc : <span class="hljs-title class_">Function</span>
}

</code></pre>
<h4>elFunc</h4>
<p>(optional) elFunc should return the dom element to insert into SubEditor when user select the image or file.</p>
<h4>tileFunc</h4>
<p>(optional) tileFunc should return a button element to determine how the file is displayed in library. By default it will show the image (or thumbnail if thumb is provided) and file name. For non-image file, it will show the extension and file name.</p>



  <div class="foot_paging columns">
    <div class="column prev">
      <a class="button is-link" href="#"><em>←</em> <span><em>Previous</em><strong></strong></span></a>
    </div>
    <div class="column next">
      <a class="button is-link" href="install.html"> <span><em>Next</em><strong>Installation</strong></span><em>→</em></a>
    </div>
  </div>
</div>
</main>
<a role="button" id="sidebar_toggle_button" class="navbar-burger" aria-label="menu" aria-expanded="false" onclick="document.querySelector('main').classList.toggle('sidebar_close')">
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
  </a>
</body>
</html>